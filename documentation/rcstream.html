<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>RCStream</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link href="../css/main.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <nav id="header">
      <div class="wrap">
        <h1><a href="/">Wikimedia Data &amp; Developer Hub</a></h1>
        <ul>
          <li><a class="showcase" href="../showcase.html">Showcase</a></li>
          <li><a class="documentation" href="../documentation.html">Documentation</a></li>
        </ul>
      </div>
    </nav>

    <section class="wrap content">
        <header>
    <p>API Documentation</p>
    <h1>RCStream</h1>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur non suscipit massa. Donec vitae arcu pellentesque, scelerisque turpis ut, vulputate urna. Nunc semper hendrerit sollicitudin. Vivamus lobortis, dui luctus rhoncus fringilla, elit enim ultrices nibh, ut rutrum massa lacus quis est.</p>
  </header>

  <p>Etiam mollis auctor quam, nec eleifend risus convallis sed. Nam ante purus, dictum vel lobortis ut, pharetra vitae nisl. Suspendisse bibendum ante a consectetur sodales. Nunc sed scelerisque ante. Vivamus ut eros eget risus malesuada eleifend id non odio. Proin dolor felis, tempus ut justo et, facilisis congue est. Morbi molestie magna nec nisl mollis, eget cursus risus mollis. Duis sit amet nulla lacus. Sed ornare convallis tellus non tincidunt.</p>

<p>Vestibulum lectus ligula, ultricies quis iaculis eleifend, molestie ut mauris. Vestibulum interdum leo vel fringilla pellentesque. Fusce vel neque nibh. Ut eget dapibus tortor, sed consequat purus. Integer rhoncus ultrices lacus accumsan sollicitudin. Nullam nec turpis id augue laoreet imperdiet. Duis vitae lorem ut ligula feugiat eleifend ac et lacus. Pellentesque interdum dui ac ipsum venenatis, eu tincidunt est commodo. Nulla sollicitudin ultrices purus, et egestas ante convallis non. Duis vel condimentum nisl, at rutrum magna. Vestibulum luctus tristique viverra. Curabitur vitae facilisis quam, et euismod mi. Nulla tincidunt viverra risus, et placerat mi varius non. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Aliquam non diam eros. </p>
<pre class="highlight javascript"><span class="kd">var</span> <span class="nx">socket</span> <span class="o">=</span> <span class="nx">io</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span> <span class="s1">'/rc'</span> <span class="p">);</span>

<span class="kd">function</span> <span class="nx">log</span><span class="p">(</span> <span class="nx">text</span> <span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span> <span class="k">typeof</span> <span class="nx">text</span> <span class="o">!==</span> <span class="s1">'string'</span> <span class="p">)</span> <span class="p">{</span>
    <span class="nx">text</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span> <span class="nx">text</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="mi">2</span> <span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">pre</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span> <span class="s1">'pre'</span> <span class="p">);</span>
  <span class="nx">pre</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="nx">text</span><span class="p">;</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span> <span class="nx">pre</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span> <span class="s1">'script'</span> <span class="p">)</span> <span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="nx">text</span> <span class="p">);</span>
<span class="p">}</span>

<span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">'connect'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">log</span><span class="p">(</span> <span class="s1">'connected!'</span> <span class="p">);</span>
  <span class="nx">socket</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span> <span class="s1">'subscribe'</span><span class="p">,</span> <span class="p">[</span> <span class="s1">'enwiki'</span><span class="p">,</span> <span class="s1">'bgwiki'</span> <span class="p">]</span> <span class="p">);</span>
<span class="p">}</span> <span class="p">);</span>

<span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">'change'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span> <span class="nx">data</span> <span class="p">)</span> <span class="p">{</span>
  <span class="nx">log</span><span class="p">(</span> <span class="nx">data</span> <span class="p">);</span>
<span class="p">}</span> <span class="p">);</span>
</pre>


    </section>
    <script src="../js/main.js" type="text/javascript"></script>
  </body>
</html>
